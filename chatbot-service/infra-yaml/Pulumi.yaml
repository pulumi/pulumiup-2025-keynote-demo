name: chatbot-service-yaml
description: A containerized chatbot application deployed to AWS ECS Fargate with an Application Load Balancer
runtime: yaml
packages:
  container-app: https://github.com/pulumi/pulumiup-2025-keynote-demo/components/container-app@v0.2.0
resources:
  # Create the container app using our component
  app:
    type: container-app:index:ContainerApp
    properties:
      appPath: ${app_path}
      appPort: ${app_port}
      cpu: ${cpu}
      memory: ${memory}
      env:
        ENVIRONMENT: ${environment}
      desiredCount: ${desired_count}
      secrets:
        OPENAI_API_KEY: ${openai_api_key}
# Export the URL of the deployed application
outputs:
  url: ${app.url}
config:
  pulumi:tags:
    value:
      pulumi:template: ../../templates/chatbot-container-app
